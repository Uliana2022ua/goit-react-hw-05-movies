"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[417],{417:function(r,e,t){t.r(e),t.d(e,{Image:function(){return m},ImageWrap:function(){return x},default:function(){return E}});var n,a,s=t(5861),i=t(9439),o=t(4687),u=t.n(o),c=t(2791),p=t(7689),h=t(7596),l=t(4476),f=t(7822),d=t(9630),v=t(168),g=t(82),m=g.ZP.img(n||(n=(0,v.Z)(["\n  object-fit: cover;\n"]))),x=g.ZP.div(a||(a=(0,v.Z)(["\n  width: 300px;\n  height: 450px;\n  background-color: ",";\n  border-radius: ",";\n  margin-bottom: ","px;\n  overflow: hidden;\n"])),(function(r){return r.theme.colors.bgMain}),(function(r){return r.theme.radii.textBlock}),(function(r){return r.theme.space[3]})),b=t(8962),w=t(184),k=0,y=1,Z=2,T=3,E=function(){var r=(0,p.UO)().movieId,e=(0,c.useState)(null),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=(0,c.useState)(k),v=(0,i.Z)(o,2),g=v[0],E=v[1];if((0,c.useEffect)((function(){var e=new AbortController,t=e.signal;function n(){return(n=(0,s.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(y),e.next=4,(0,d.M1)({id:r,signal:t});case 4:n=e.sent,a(n),E(Z),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),E(T),(0,h.Am)(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){e.abort()}}),[r]),n)return(0,w.jsxs)(l.x,{borderRadius:"textBlock",backgroundColor:"bgAccent",padding:6,children:[g===y&&(0,w.jsx)(f.Z,{}),0===n.length?(0,w.jsx)("p",{children:"There is no cast."}):(0,w.jsx)(l.x,{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:5,maxWidth:"maxBox",as:"ul",children:n.map((function(r){var e=r.id,t=r.profile_path,n=r.name,a=r.character;return(0,w.jsxs)("li",{children:[(0,w.jsx)(x,{children:(0,w.jsx)(m,{src:t?"https://image.tmdb.org/t/p/w300"+t:b,width:300,height:450,alt:n})}),(0,w.jsx)("h3",{children:n}),(0,w.jsxs)("p",{children:["Character: ",(0,w.jsx)("span",{children:a})]})]},e)}))})]})}},9630:function(r,e,t){t.d(e,{M1:function(){return u},TP:function(){return p},XT:function(){return l},Jh:function(){return d},Df:function(){return g}});var n=t(5861),a=t(4687),s=t.n(a),i=t(1243),o=t(2768);function u(r){return c.apply(this,arguments)}function c(){return(c=(0,n.Z)(s().mark((function r(e){var t,n,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,n=e.signal,r.prev=1,r.next=4,i.Z.get("movie/".concat(t,"/credits"),{signal:n});case 4:if(a=r.sent){r.next=7;break}throw Error("We are sorry! There is no cast information about the movie");case 7:return r.abrupt("return",a.data.cast);case 10:if(r.prev=10,r.t0=r.catch(1),"CanceledError"!==r.t0.name){r.next=14;break}return r.abrupt("return",null);case 14:if(!r.t0.response&&!r.t0.request){r.next=18;break}throw Error("There is no server response. Try later again!");case 18:throw r.t0;case 19:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)}function p(r){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(s().mark((function r(e){var t,n,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,n=e.signal,r.prev=1,r.next=4,i.Z.get("movie/".concat(t),{signal:n});case 4:if(a=r.sent){r.next=7;break}throw Error("We are sorry! There is no detailed information about the movie");case 7:return r.abrupt("return",a.data);case 10:if(r.prev=10,r.t0=r.catch(1),"CanceledError"!==r.t0.name){r.next=14;break}return r.abrupt("return",null);case 14:if(!r.t0.response&&!r.t0.request){r.next=18;break}throw Error("There is no server response. Try later again!");case 18:throw r.t0;case 19:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)}function l(r){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(s().mark((function r(e){var t,n,a,o,u,c,p;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.page,n=void 0===t?1:t,a=e.search,o=void 0===a?"":a,u=e.signal,c={page:n,query:o},r.prev=2,r.next=5,i.Z.get("search/movie",{params:c,signal:u});case 5:if(0!==(p=r.sent).data.results.length){r.next=8;break}throw Error("There is no any match on your request!");case 8:return r.abrupt("return",p.data.results);case 11:if(r.prev=11,r.t0=r.catch(2),"CanceledError"!==r.t0.name){r.next=15;break}return r.abrupt("return",[]);case 15:if(!r.t0.response&&!r.t0.request){r.next=19;break}throw Error("There is no server response. Try later again!");case 19:throw r.t0;case 20:case"end":return r.stop()}}),r,null,[[2,11]])})))).apply(this,arguments)}function d(r){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(s().mark((function r(e){var t,n,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,n=e.signal,r.prev=1,r.next=4,i.Z.get("movie/".concat(t,"/reviews"),{signal:n});case 4:if(a=r.sent){r.next=7;break}throw Error("There is no cast information about the movie");case 7:return r.abrupt("return",a.data.results);case 10:if(r.prev=10,r.t0=r.catch(1),"CanceledError"!==r.t0.name){r.next=14;break}return r.abrupt("return",null);case 14:if(!r.t0.response&&!r.t0.request){r.next=18;break}throw Error("There is no server response. Try later again!");case 18:throw r.t0;case 19:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)}function g(r){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(s().mark((function r(e){var t,n,a,o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.signal,n=e.page,a={page:void 0===n?1:n},r.prev=2,r.next=5,i.Z.get("trending/movie/day",{params:a,signal:t});case 5:if(0!==(o=r.sent).data.results.length){r.next=8;break}throw Error("There is no any match on your request!");case 8:return r.abrupt("return",o.data.results);case 11:if(r.prev=11,r.t0=r.catch(2),"CanceledError"!==r.t0.name){r.next=15;break}return r.abrupt("return",[]);case 15:if(!r.t0.response&&!r.t0.request){r.next=19;break}throw Error("There is no server response. Try later again!");case 19:throw r.t0;case 20:case"end":return r.stop()}}),r,null,[[2,11]])})))).apply(this,arguments)}i.Z.defaults.baseURL=o._n,i.Z.defaults.headers.common.Authorization="Bearer ".concat(o.$h)},8962:function(r,e,t){r.exports=t.p+"static/media/defaultImg.939c3eb9b8f4a70bb0ad.jpg"}}]);
//# sourceMappingURL=417.7bbf970e.chunk.js.map