"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[362],{338:function(n,e,t){t.d(e,{Z:function(){return x}});var r,i,o,a,c=t(4476),u=t(7689),s=t(1087),d=t(168),f=t(82),l=f.ZP.li(r||(r=(0,d.Z)(["\n  border-radius: ",";\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n  transform: scale(1);\n  transition: ",";\n\n  :hover {\n    transform: scale(1.03);\n  }\n"])),(function(n){return n.theme.radii.primary}),(function(n){return n.theme.shadows.primary}),(function(n){return n.theme.styles.transition})),h=f.ZP.img(i||(i=(0,d.Z)(["\n  width: 100%;\n  height: auto;\n  object-fit: cover;\n"]))),p=f.ZP.p(o||(o=(0,d.Z)(["\n  display: inline-block;\n  font-size: ",";\n  font-weight: bold;\n"])),(function(n){return n.theme.fontSizes.title})),m=f.ZP.p(a||(a=(0,d.Z)(["\n  display: inline-block;\n  margin-left: auto;\n  padding-left: ","px;\n  padding-right: ","px;\n  padding-bottom: ","px;\n  padding-top: ","px;\n  font-size: ",";\n  font-weight: bold;\n  color: white;\n  border-radius: ",";\n  background-color: ",";\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.fontSizes.title}),(function(n){return n.theme.radii.primary}),(function(n){return n.theme.colors.bgDark})),g=t(184),v=function(n){var e=n.id,t=n.title,r=n.posterPath,i=n.votes,o=(0,u.TH)(),a="/movies"===o.pathname?"".concat(e):"movies/".concat(e);return(0,g.jsx)(l,{children:(0,g.jsxs)(s.rU,{to:a,state:{from:"".concat(o.pathname+o.search)},children:[(0,g.jsx)(h,{src:"https://image.tmdb.org/t/p/w500"+r,alt:"Poster ".concat(t)}),(0,g.jsxs)(c.x,{display:"flex",height:"titleBlock",alignItems:"center",justifyContent:"space-between",padding:4,as:"div",children:[(0,g.jsx)(p,{children:t}),(0,g.jsx)(m,{children:i.toFixed(1)})]})]})})},x=function(n){var e=n.movies;return(0,g.jsx)(c.x,{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridGap:5,as:"ul",children:e.map((function(n){var e=n.id,t=n.title,r=n.poster_path,i=n.vote_average;return(0,g.jsx)(v,{id:e,title:t,posterPath:r,votes:i},e)}))})}},8362:function(n,e,t){t.r(e),t.d(e,{default:function(){return P}});var r,i,o,a=t(5861),c=t(9439),u=t(4687),s=t.n(u),d=t(2791),f=t(1087),l=t(7596),h=t(4476),p=t(338),m=t(7822),g=t(8494),v=t(3271),x=t(184),b=function(n){var e=n.onSearchSubmit,t=n.value,r=(0,d.useState)(""),i=(0,c.Z)(r,2),o=i[0],a=i[1];(0,d.useEffect)((function(){t&&a(t)}),[t]);return(0,x.jsx)(h.x,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"searchBar",paddingTop:6,paddingBottom:6,color:"textPrimary",as:"div",children:(0,x.jsxs)(w,{onSubmit:function(n){n.preventDefault(),e(o)},children:[(0,x.jsx)(j,{type:"submit",children:(0,x.jsx)(g.Yfv,{size:v.r.sizes.iconSearch})}),(0,x.jsx)(Z,{type:"text","aria-label":"search",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(n){a(n.target.value)},value:o})]})})},y=t(168),k=t(82),w=k.ZP.form(r||(r=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: ",";\n  border-radius: ",";\n  border: ",";\n  overflow: hidden;\n"])),(function(n){return n.theme.sizes.form}),(function(n){return n.theme.radii.primary}),(function(n){return n.theme.borders.primary})),j=k.ZP.button(i||(i=(0,y.Z)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n  border: 0;\n  color: ",";\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: ",";\n  cursor: pointer;\n  outline: none;\n\n  :hover {\n    color: white;\n  }\n"])),(function(n){return n.theme.sizes.buttonIcon}),(function(n){return n.theme.sizes.buttonIcon}),(function(n){return n.theme.colors.link}),(function(n){return n.theme.colors.bgDark})),Z=k.ZP.input(o||(o=(0,y.Z)(["\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  padding: ","px;\n  font: inherit;\n  font-size: ",";\n  border: none;\n  outline: none;\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.fontSizes.input})),_=t(9630),S={idle:0,pending:1,resolved:2,rejected:3},P=function(){var n=(0,d.useState)([]),e=(0,c.Z)(n,2),t=e[0],r=e[1],i=(0,d.useState)(S.movieGallery),o=(0,c.Z)(i,2),u=o[0],g=o[1],v=(0,f.lr)(),y=(0,c.Z)(v,2),k=y[0],w=y[1];(0,d.useEffect)((function(){var n=new AbortController,e=n.signal,t=k.get("query");if(r([]),t)return function(){i.apply(this,arguments)}(),function(){n.abort()};function i(){return(i=(0,a.Z)(s().mark((function n(){var i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,g(S.pending),n.next=4,(0,_.XT)({search:t.trim(),signal:e});case 4:i=n.sent,g(S.resolved),r(i),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),g(S.rejected),(0,l.Am)(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}}),[k]);return(0,x.jsx)(h.x,{backgroundColor:"bgMain",minHeight:"100vh",as:"main",children:(0,x.jsxs)(h.x,{width:"container",marginLeft:"auto",marginRight:"auto",paddingTop:4,paddingBottom:5,paddingLeft:3,paddingRight:3,children:[(0,x.jsx)(b,{onSearchSubmit:function(n){w(n?{query:n.trim()}:{})},value:k.get("query")}),u===S.pending&&(0,x.jsx)(m.Z,{}),(0,x.jsx)(p.Z,{movies:t})]})})}},9630:function(n,e,t){t.d(e,{M1:function(){return l},TP:function(){return f},XT:function(){return d},Jh:function(){return h},Df:function(){return s}});var r=t(5861),i=t(4687),o=t.n(i),a=t(2768);function c(){return u.apply(this,arguments)}function u(){return u=(0,r.Z)(o().mark((function n(){var e,t,r,i=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:"",t=i.length>1&&void 0!==i[1]?i[1]:{},n.next=4,fetch(e,t);case 4:if(!(r=n.sent).ok){n.next=11;break}return n.next=8,r.json();case 8:n.t0=n.sent,n.next=12;break;case 11:n.t0=Promise.reject(new Error("Not Found"));case 12:return n.abrupt("return",n.t0);case 13:case"end":return n.stop()}}),n)}))),u.apply(this,arguments)}function s(){return c("".concat(a._n,"/trending/movie/day?api_key=").concat(a.$h))}function d(n){return c("".concat(a._n,"/search/movie?query=").concat(n,"&api_key=").concat(a.$h,"&language=en-US&page=1&include_adult=false"))}function f(n){return c("".concat(a._n,"/movie/").concat(n,"?api_key=").concat(a.$h))}function l(n){return c("".concat(a._n,"/movie/").concat(n,"/credits?api_key=").concat(a.$h))}function h(n){return c("".concat(a._n,"/movie/").concat(n,"/reviews?api_key=").concat(a.$h,"&page=1"))}}}]);
//# sourceMappingURL=362.42403765.chunk.js.map