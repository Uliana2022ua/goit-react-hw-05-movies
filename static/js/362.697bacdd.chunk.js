"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[362],{338:function(n,t,e){e.d(t,{Z:function(){return x}});var r,i,a,o,c=e(4476),s=e(7689),u=e(1087),p=e(168),l=e(82),d=l.ZP.li(r||(r=(0,p.Z)(["\n  border-radius: ",";\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n  transform: scale(1);\n  transition: ",";\n\n  :hover {\n    transform: scale(1.03);\n  }\n"])),(function(n){return n.theme.radii.primary}),(function(n){return n.theme.shadows.primary}),(function(n){return n.theme.styles.transition})),h=l.ZP.img(i||(i=(0,p.Z)(["\n  width: 100%;\n  height: auto;\n  object-fit: cover;\n"]))),f=l.ZP.p(a||(a=(0,p.Z)(["\n  display: inline-block;\n  font-size: ",";\n  font-weight: bold;\n"])),(function(n){return n.theme.fontSizes.title})),m=l.ZP.p(o||(o=(0,p.Z)(["\n  display: inline-block;\n  margin-left: auto;\n  padding-left: ","px;\n  padding-right: ","px;\n  padding-bottom: ","px;\n  padding-top: ","px;\n  font-size: ",";\n  font-weight: bold;\n  color: white;\n  border-radius: ",";\n  background-color: ",";\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.fontSizes.title}),(function(n){return n.theme.radii.primary}),(function(n){return n.theme.colors.bgDark})),g=e(184),v=function(n){var t=n.id,e=n.title,r=n.posterPath,i=n.votes,a=(0,s.TH)(),o="/movies"===a.pathname?"".concat(t):"movies/".concat(t);return(0,g.jsx)(d,{children:(0,g.jsxs)(u.rU,{to:o,state:{from:"".concat(a.pathname+a.search)},children:[(0,g.jsx)(h,{src:"https://image.tmdb.org/t/p/w500"+r,alt:"Poster ".concat(e)}),(0,g.jsxs)(c.x,{display:"flex",height:"titleBlock",alignItems:"center",justifyContent:"space-between",padding:4,as:"div",children:[(0,g.jsx)(f,{children:e}),(0,g.jsx)(m,{children:i.toFixed(1)})]})]})})},x=function(n){var t=n.movies;return(0,g.jsx)(c.x,{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridGap:5,as:"ul",children:t.map((function(n){var t=n.id,e=n.title,r=n.poster_path,i=n.vote_average;return(0,g.jsx)(v,{id:t,title:e,posterPath:r,votes:i},t)}))})}},8362:function(n,t,e){e.r(t),e.d(t,{default:function(){return S}});var r,i,a,o=e(5861),c=e(9439),s=e(4687),u=e.n(s),p=e(2791),l=e(1087),d=e(7596),h=e(4476),f=e(338),m=e(7822),g=e(8494),v=e(3271),x=e(184),b=function(n){var t=n.onSearchSubmit,e=n.value,r=(0,p.useState)(""),i=(0,c.Z)(r,2),a=i[0],o=i[1];(0,p.useEffect)((function(){e&&o(e)}),[e]);return(0,x.jsx)(h.x,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"searchBar",paddingTop:6,paddingBottom:6,color:"textPrimary",as:"div",children:(0,x.jsxs)(Z,{onSubmit:function(n){n.preventDefault(),t(a)},children:[(0,x.jsx)(k,{type:"submit",children:(0,x.jsx)(g.Yfv,{size:v.r.sizes.iconSearch})}),(0,x.jsx)(_,{type:"text","aria-label":"search",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(n){o(n.target.value)},value:a})]})})},y=e(168),w=e(82),Z=w.ZP.form(r||(r=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: ",";\n  border-radius: ",";\n  border: ",";\n  overflow: hidden;\n"])),(function(n){return n.theme.sizes.form}),(function(n){return n.theme.radii.primary}),(function(n){return n.theme.borders.primary})),k=w.ZP.button(i||(i=(0,y.Z)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n  border: 0;\n  color: ",";\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: ",";\n  cursor: pointer;\n  outline: none;\n\n  :hover {\n    color: white;\n  }\n"])),(function(n){return n.theme.sizes.buttonIcon}),(function(n){return n.theme.sizes.buttonIcon}),(function(n){return n.theme.colors.link}),(function(n){return n.theme.colors.bgDark})),_=w.ZP.input(a||(a=(0,y.Z)(["\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  padding: ","px;\n  font: inherit;\n  font-size: ",";\n  border: none;\n  outline: none;\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.fontSizes.input})),j=e(6755),P={idle:0,pending:1,resolved:2,rejected:3},S=function(){var n=(0,p.useState)([]),t=(0,c.Z)(n,2),e=t[0],r=t[1],i=(0,p.useState)(P.movieGallery),a=(0,c.Z)(i,2),s=a[0],g=a[1],v=(0,l.lr)(),y=(0,c.Z)(v,2),w=y[0],Z=y[1];(0,p.useEffect)((function(){var n=new AbortController,t=n.signal,e=w.get("query");if(r([]),e)return function(){i.apply(this,arguments)}(),function(){n.abort()};function i(){return(i=(0,o.Z)(u().mark((function n(){var i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,g(P.pending),n.next=4,(0,j.XT)({search:e.trim(),signal:t});case 4:i=n.sent,g(P.resolved),r(i),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),g(P.rejected),(0,d.Am)(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}}),[w]);return(0,x.jsx)(h.x,{backgroundColor:"bgMain",minHeight:"100vh",as:"main",children:(0,x.jsxs)(h.x,{width:"container",marginLeft:"auto",marginRight:"auto",paddingTop:4,paddingBottom:5,paddingLeft:3,paddingRight:3,children:[(0,x.jsx)(b,{onSearchSubmit:function(n){Z(n?{query:n.trim()}:{})},value:w.get("query")}),s===P.pending&&(0,x.jsx)(m.Z,{}),(0,x.jsx)(f.Z,{movies:e})]})})}},6755:function(n,t,e){e.d(t,{M1:function(){return h},TP:function(){return l},XT:function(){return v},Jh:function(){return m},Df:function(){return u}});var r=e(5861),i=e(4687),a=e.n(i),o=e(1243),c=e(2768);function s(n){return n?"https://image.tmdb.org/t/p/w500/".concat(n):"<https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700>"}function u(n,t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function n(t,e){var r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c._n,"trending/movie/day?api_key=").concat(c.$h,"&page=").concat(t),{signal:e.signal});case 2:return r=n.sent,i=r.data.results.map((function(n){return{id:n.id,title:n.title,posterPath:s(n.poster_path)}})),n.abrupt("return",{movies:i,totalPages:r.data.total_pages});case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n,t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(a().mark((function n(t,e){var r,i,u,p,l,d,h,f;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c._n,"/movie/").concat(t,"?api_key=").concat(c.$h),{signal:e.signal});case 2:return r=n.sent,i=r.data,u=i.title,p=i.poster_path,l=i.overview,d=i.genres,h=i.vote_average,f=i.release_date,n.abrupt("return",{title:u,posterPath:s(p),overview:l,genres:d.map((function(n){return n.name})).join(", "),vote:h.toFixed(1),year:f.slice(0,4)});case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n,t){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(a().mark((function n(t,e){var r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c._n,"/movie/").concat(t,"/credits?api_key=").concat(c.$h),{signal:e.signal});case 2:return r=n.sent,i=r.data.cast.map((function(n){var t=n.id,e=n.name,r=n.profile_path,i=n.character;return{id:t,name:e,profilePath:s(r),character:i}})),n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n,t){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(a().mark((function n(t,e){var r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(c._n,"/movie/").concat(t,"/reviews?api_key=").concat(c.$h),{signal:e.signal});case 2:return r=n.sent,i=r.data.results.map((function(n){return{id:n.id,author:n.author,content:n.content}})),n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return x.apply(this,arguments)}function x(){return x=(0,r.Z)(a().mark((function n(t){var e,r,i,u,p=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=p.length>1&&void 0!==p[1]?p[1]:1,r=p.length>2?p[2]:void 0,n.next=4,o.Z.get("".concat(c._n,"search/movie?api_key=").concat(c.$h,"&query=").concat(t,"&page=").concat(e),{signal:r.signal});case 4:return i=n.sent,u=i.data.results.map((function(n){return{id:n.id,title:n.title,posterPath:s(n.poster_path)}})),n.abrupt("return",{movies:u,totalPages:i.data.total_pages,totalResults:i.data.total_results});case 7:case"end":return n.stop()}}),n)}))),x.apply(this,arguments)}}}]);
//# sourceMappingURL=362.697bacdd.chunk.js.map