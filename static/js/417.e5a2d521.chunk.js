"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[417],{417:function(t,n,e){e.r(n),e.d(n,{Image:function(){return v},ImageWrap:function(){return x},default:function(){return Z}});var r,a,i=e(5861),c=e(9439),o=e(4687),s=e.n(o),u=e(2791),p=e(7689),l=e(7596),h=e(4476),f=e(7822),d=e(6755),g=e(168),m=e(82),v=m.ZP.img(r||(r=(0,g.Z)(["\n  object-fit: cover;\n"]))),x=m.ZP.div(a||(a=(0,g.Z)(["\n  width: 300px;\n  height: 450px;\n  background-color: ",";\n  border-radius: ",";\n  margin-bottom: ","px;\n  overflow: hidden;\n"])),(function(t){return t.theme.colors.bgMain}),(function(t){return t.theme.radii.textBlock}),(function(t){return t.theme.space[3]})),_=e(184),w=0,b=1,y=2,k=3,Z=function(){var t=(0,p.UO)().movieId,n=(0,u.useState)(null),e=(0,c.Z)(n,2),r=e[0],a=e[1],o=(0,u.useState)(w),g=(0,c.Z)(o,2),m=g[0],Z=g[1];if((0,u.useEffect)((function(){var n=new AbortController,e=n.signal;function r(){return(r=(0,i.Z)(s().mark((function n(){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Z(b),n.next=4,(0,d.M1)({id:t,signal:e});case 4:r=n.sent,a(r),Z(y),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),Z(k),(0,l.Am)(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}return function(){r.apply(this,arguments)}(),function(){n.abort()}}),[t]),r)return(0,_.jsxs)(h.x,{borderRadius:"textBlock",backgroundColor:"bgAccent",padding:6,children:[m===b&&(0,_.jsx)(f.Z,{}),0===r.length?(0,_.jsx)("p",{children:"There is no cast."}):(0,_.jsx)(h.x,{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:5,maxWidth:"maxBox",as:"ul",children:r.map((function(t){var n=t.id,e=t.profile_path,r=t.name,a=t.character;return(0,_.jsxs)("li",{children:[(0,_.jsx)(x,{children:(0,_.jsx)(v,{src:"https://image.tmdb.org/t/p/w300"+e,alt:r})}),(0,_.jsx)("h3",{children:r}),(0,_.jsxs)("p",{children:["Character: ",(0,_.jsx)("span",{children:a})]})]},n)}))})]})}},6755:function(t,n,e){e.d(n,{M1:function(){return f},TP:function(){return l},XT:function(){return v},Jh:function(){return g},Df:function(){return u}});var r=e(5861),a=e(4687),i=e.n(a),c=e(1243),o=e(2768);function s(t){return t?"https://image.tmdb.org/t/p/w500/".concat(t):"<https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700>"}function u(t,n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function t(n,e){var r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("".concat(o._n,"trending/movie/day?api_key=").concat(o.$h,"&page=").concat(n),{signal:e.signal});case 2:return r=t.sent,a=r.data.results.map((function(t){return{id:t.id,title:t.title,posterPath:s(t.poster_path)}})),t.abrupt("return",{movies:a,totalPages:r.data.total_pages});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t,n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function t(n,e){var r,a,u,p,l,h,f,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("".concat(o._n,"/movie/").concat(n,"?api_key=").concat(o.$h),{signal:e.signal});case 2:return r=t.sent,a=r.data,u=a.title,p=a.poster_path,l=a.overview,h=a.genres,f=a.vote_average,d=a.release_date,t.abrupt("return",{title:u,posterPath:s(p),overview:l,genres:h.map((function(t){return t.name})).join(", "),vote:f.toFixed(1),year:d.slice(0,4)});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t,n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function t(n,e){var r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("".concat(o._n,"/movie/").concat(n,"/credits?api_key=").concat(o.$h),{signal:e.signal});case 2:return r=t.sent,a=r.data.cast.map((function(t){var n=t.id,e=t.name,r=t.profile_path,a=t.character;return{id:n,name:e,profilePath:s(r),character:a}})),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function t(n,e){var r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("".concat(o._n,"/movie/").concat(n,"/reviews?api_key=").concat(o.$h),{signal:e.signal});case 2:return r=t.sent,a=r.data.results.map((function(t){return{id:t.id,author:t.author,content:t.content}})),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return x.apply(this,arguments)}function x(){return x=(0,r.Z)(i().mark((function t(n){var e,r,a,u,p=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.length>1&&void 0!==p[1]?p[1]:1,r=p.length>2?p[2]:void 0,t.next=4,c.Z.get("".concat(o._n,"search/movie?api_key=").concat(o.$h,"&query=").concat(n,"&page=").concat(e),{signal:r.signal});case 4:return a=t.sent,u=a.data.results.map((function(t){return{id:t.id,title:t.title,posterPath:s(t.poster_path)}})),t.abrupt("return",{movies:u,totalPages:a.data.total_pages,totalResults:a.data.total_results});case 7:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}}}]);
//# sourceMappingURL=417.e5a2d521.chunk.js.map