{"version":3,"file":"static/js/918.f420ce31.chunk.js","mappings":"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","sources":["components/MovieDetails/MovieDetails.styled.js","components/MovieDetails/MovieDetails.jsx","utils/movieAPI.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nimport { ImArrowLeft2 } from 'react-icons/im';\n\nexport const Image = styled.img`\n  border-radius: ${p => p.theme.radii.textBlock};\n  width: 500px;\n  height: auto;\n`;\n\nexport const Title = styled.h2`\n  margin-bottom: ${p => p.theme.space[5]}px;\n  text-transform: uppercase;\n  color: ${p => p.theme.colors.title}; ;\n`;\n\nexport const SubTitle = styled.h3`\n  margin-bottom: ${p => p.theme.space[4]}px;\n  margin-right: ${p => p.theme.space[4]}px;\n  color: ${p => p.theme.colors.subTitle};\n`;\n\nexport const Paragraph = styled.p`\n  margin-bottom: ${p => p.theme.space[4]}px;\n  color: ${p => p.theme.colors.subTitle};\n  font-size: ${p => p.theme.fontSizes.text};\n`;\n\nexport const Votes = styled.span`\n  display: inline-block;\n  margin-left: ${p => p.theme.space[4]}px;\n  padding-left: ${p => p.theme.space[4]}px;\n  padding-right: ${p => p.theme.space[4]}px;\n  padding-bottom: ${p => p.theme.space[2]}px;\n  padding-top: ${p => p.theme.space[2]}px;\n  font-size: ${p => p.theme.fontSizes.title};\n  font-weight: bold;\n  color: white;\n  border-radius: ${p => p.theme.radii.primary};\n  background-color: ${p => p.theme.colors.bgDark};\n`;\n\nexport const Item = styled.li`\n  margin-bottom: ${p => p.theme.space[4]}px;\n  text-align: right;\n`;\n\nexport const LinkBack = styled(NavLink)`\n  display: block;\n  margin-bottom: ${p => p.theme.space[4]}px;\n  padding: ${p => p.theme.space[3]}px;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n`;\n\nexport const Icon = styled(ImArrowLeft2)`\n  width: ${p => p.theme.sizes.backIcon};\n  height: ${p => p.theme.sizes.backIcon};\n  color: ${p => p.theme.colors.bgDark};\n`;","import { useEffect, useState, Suspense, useRef } from 'react';\nimport { Outlet, useParams, useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { getMovieDetails } from 'utils';\nimport { Box } from 'components/Box';\nimport Loader from 'components/Loader';\nimport { Link } from 'components/Link';\nimport SuspenedPage from 'components/SuspenedPage';\nimport {\n  Image,\n  Title,\n  SubTitle,\n  Paragraph,\n  Votes,\n  Item,\n  LinkBack,\n  Icon,\n} from './MovieDetails.styled';\n\nconst STATUS = {\n  idle: 0,\n  pending: 1,\n  resolved: 2,\n  rejected: 3,\n};\n\nconst MovieDetails = () => {\n  const BASE_URL = 'https://image.tmdb.org/t/p/w500';\n  const location = useLocation();\n  const backPath = useRef();\n\n  const { movieId } = useParams();\n  const [details, setDetails] = useState(null);\n  const [status, setStatus] = useState(STATUS.idle);\n\n  if (!backPath.current) {\n    backPath.current = location.state ? location.state.from : '/';\n  }\n\n  // -------------------------------------------------\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n    async function getDetails() {\n      try {\n        setStatus(STATUS.pending);\n        const movieDetails = await getMovieDetails({ id: movieId, signal });\n        setDetails(movieDetails);\n        setStatus(STATUS.resolved);\n      } catch (error) {\n        setStatus(STATUS.rejected);\n        toast(error.message);\n      }\n    }\n    getDetails();\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  // -------------------------------------------------\n  if (!details) {\n    return;\n  }\n\n  // -------------------------------------------------\n  let genres = [];\n  if (details.genres) {\n    genres = details.genres.map(genre => genre.name).join(', ');\n  }\n\n  // -------------------------------------------------\n  const { poster_path, title, vote_average, overview } = details;\n  return (\n    <Box backgroundColor=\"bgMain\" minHeight=\"100vh\" as=\"main\">\n      <Box\n        width=\"container\"\n        marginLeft=\"auto\"\n        marginRight=\"auto\"\n        paddingTop={5}\n        paddingBottom={5}\n        paddingLeft={3}\n        paddingRight={3}\n      >\n        {status === STATUS.pending && <Loader />}\n        <LinkBack to={backPath.current}>\n          <Icon />\n        </LinkBack>\n\n        <Box display=\"grid\" gridTemplateColumns=\"1fr 2fr\" gridGap={6}>\n          <Image src={BASE_URL + poster_path} alt={`Poster ${title}`} />\n\n          <Box borderRadius=\"textBlock\" backgroundColor=\"bgAccent\" padding={6}>\n            <Title>{title}</Title>\n            <SubTitle>\n              User score:\n              <Votes>{vote_average.toFixed(1)}</Votes>\n            </SubTitle>\n            <SubTitle>Genres:</SubTitle>\n            <Paragraph>{genres}</Paragraph>\n            <SubTitle>Overview</SubTitle>\n            <Paragraph>{overview}</Paragraph>\n          </Box>\n\n          <Box\n            borderRadius=\"textBlock\"\n            backgroundColor=\"bgDark\"\n            padding={6}\n            height=\"menu\"\n          >\n            <ul>\n              <Item>\n                <Link to=\"cast\">Cast</Link>\n              </Item>\n              <Item>\n                <Link to=\"reviews\">Reviews</Link>\n              </Item>\n            </ul>\n          </Box>\n          <Suspense fallback={<SuspenedPage />}>\n            <Outlet />\n          </Suspense>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default MovieDetails;","// import axios from 'axios';\nimport { API_KEY,  BASE_URL} from 'constants';\n\n// import { getImagePosterPath } from 'utils/defaultImage';\n\n\n\n// axios.defaults.baseURL = BASE_URL;\n// axios.defaults.headers.common['Authorization'] = `Bearer ${API_KEY}`;\n\n// -------------------------------------------------\nasync function fetchMovies(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not Found'));\n};\n\nexport function getTrendingMovies() {\n  return fetchMovies(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n};\n\nexport function getMovies(query) {\n  return fetchMovies(\n    `${BASE_URL}/search/movie?query=${query}&api_key=${API_KEY}&language=en-US&page=1&include_adult=false`\n  )\n};\n\nexport function getMovieDetails(movieId) {\n  return fetchMovies(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`\n  )\n};\n\nexport function getMovieCast(movieId) {\n  return fetchMovies(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`\n  )\n};\n\nexport function getReviews(movieId) {\n  return fetchMovies(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&page=1`\n  )\n};"],"names":["Image","styled","p","theme","radii","textBlock","Title","space","colors","title","SubTitle","subTitle","Paragraph","fontSizes","text","Votes","primary","bgDark","Item","LinkBack","NavLink","Icon","ImArrowLeft2","sizes","backIcon","STATUS","location","useLocation","backPath","useRef","movieId","useParams","useState","details","setDetails","status","setStatus","current","state","from","useEffect","controller","AbortController","signal","getMovieDetails","id","movieDetails","toast","message","getDetails","abort","genres","map","genre","name","join","poster_path","vote_average","overview","Box","backgroundColor","minHeight","as","width","marginLeft","marginRight","paddingTop","paddingBottom","paddingLeft","paddingRight","Loader","to","display","gridTemplateColumns","gridGap","src","alt","borderRadius","padding","toFixed","height","Link","Suspense","fallback","SuspenedPage","fetchMovies","url","config","fetch","response","ok","json","Promise","reject","Error","getTrendingMovies","BASE_URL","API_KEY","getMovies","query","getMovieCast","getReviews"],"sourceRoot":""}